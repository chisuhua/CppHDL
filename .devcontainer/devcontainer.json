{
  "name": "C++ Dev (Local & Web)",
  "image": "mcr.microsoft.com/devcontainers/cpp:0-ubuntu-22.04",
  "features": {
    "ghcr.io/devcontainers/features/cmake:1": {},
    "ghcr.io/devcontainers/features/gcc:1": {},
    "ghcr.io/devcontainers/features/ninja:1": {},
    "ghcr.io/devcontainers/features/clang:1": {
      "installClangd": true
    }
  },
  "customizations": {
    "vscode": {
      "extensions": [
        "llvm-vs-code-extensions.vscode-clangd",
        "ms-vscode.cmake-tools",
        "twxs.cmake",
        "ms-vscode.cpptools" // ä¿ç•™ä½†ç¦ç”¨ï¼Œä½œä¸º fallback
      ],
      "settings": {
        // ä¼˜å…ˆä½¿ç”¨ clangd
        "C_Cpp.intelliSenseEngine": "disabled",
        "clangd.path": "/usr/bin/clangd",
        "clangd.arguments": [
          "--background-index",
          "--compile-commands-dir=build/"
        ],
        // CMake é»˜è®¤ç”¨ Ninja
        "cmake.generator": "Ninja",
        "cmake.configureOnOpen": true,
        // ç»ˆç«¯é»˜è®¤ç”¨ bash
        "terminal.integrated.defaultProfile.linux": "bash"
      }
    }
  },
  "postCreateCommand": "echo 'ğŸ› ï¸ C++ dev environment ready!' && cmake --version"
}